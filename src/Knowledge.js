// eslint-disable-next-line no-shadow-restricted-names, no-unused-vars, no-extra-semi
;(function(Namespace, undefined) {
    "use strict";

/**
 * @namespace Namespace.Knowledge
 * @description
 * Predefined "knowledge" about the Letter Spirit domain.
 * 
 */
Namespace.Knowledge = Namespace.Knowledge || {};

/* The letter categories */ 
Namespace.Knowledge.LetterCategories = 
['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z'];


/**  
 * @public
 * @description
 * Mapping from pointIds [1-21] to the quantum-ids that touch that point. 
 */
Namespace.Knowledge.PointList = {
    1 : [0, 44, 14],
    2 : [14, 32, 2, 46, 17],
    3 : [17, 34, 4, 48, 20],
    4 : [20, 36, 6, 50, 23],
    5 : [23, 38, 8, 52, 26],
    6 : [26, 40, 10, 54, 29],
    7 : [29, 42, 12],
    8 : [1, 45, 15, 32, 0],
    9 : [2, 44, 15, 33, 3, 47, 18, 34],
    10 : [4, 46, 18, 35, 5, 49, 21, 36],
    11 : [6, 48, 21, 37, 7, 51, 24, 38],
    12 : [8, 50, 24, 39, 9, 53, 27, 40],
    13 : [10, 52, 27, 41, 11, 55, 30, 42],
    14 : [12, 54, 30, 43, 13],
    15 : [16, 33, 1],
    16 : [16, 45, 3, 35, 19],
    17 : [19, 47, 5, 37, 22],
    18 : [22, 49, 7, 39, 25],
    19 : [25, 51, 9, 41, 28],
    20 : [28, 53, 11, 43, 31],
    21 : [31, 55, 13]
};
   

/**  
 * Each quantum has 14 possible connecting quanta, 7 "above" and 7 "below".
 *  These quanta are numbered 1..14 starting above and moving clockwise.
 *       4 and 11 are straight
 *       3, 5, 10 and 12 are 45 off
 *       2, 6, 9 and 13 are 90 off
 *       1, 7, 8 and 14 are 135 off
 * the four types are all different, but they have the same relative offshoot angles.
 *
 * The following table gives a list of neighbors of all quanta in (above, below, clockwise) order.
 * 
 * @public
 * @description
 * A Table givind the list of neighbors for each quantum.
 */
Namespace.Knowledge.QuantaNeighbors = 
[
    [null,null,null,1,45,15,32,44,14,null,null,null,null,null],
    [null,null,null,null,null,16,33,45,15,32,0,null,null,null],
    [44,15,33,3,47,18,34,46,17,null,null,null,14,32],
    [45,16,null,null,null,19,35,47,18,34,2,44,15,33],
    [46,18,35,5,49,21,36,48,20,null,null,null,17,34],
    [47,19,null,null,null,22,37,49,21,36,4,46,18,35],
    [48,21,37,7,51,24,38,50,23,null,null,null,20,36],
    [49,22,null,null,null,25,39,51,24,38,6,48,21,37],
    [50,24,39,9,53,27,40,52,26,null,null,null,23,38],
    [51,25,null,null,null,28,41,53,27,40,8,50,24,39],
    [52,27,41,11,55,30,42,54,29,null,null,null,26,40],
    [53,28,null,null,null,31,43,55,30,42,10,52,27,41],
    [54,30,43,13,null,null,null,null,null,null,null,null,29,42],
    [55,31,null,null,null,null,null,null,null,null,12,54,30,43],
    [null,null,null,null,null,0,44,32,2,46,17,null,null,null],
    [32,0,null,null,null,1,45,33,3,47,18,34,2,44],
    [33,1,null,null,null,null,null,null,null,null,19,35,3,45],
    [null,null,null,14,32,2,46,34,4,48,20,null,null,null],
    [34,2,44,15,33,3,47,35,5,49,21,36,4,46],
    [35,3,45,16,null,null,null,null,null,null,22,37,5,47],
    [null,null,null,17,34,4,48,36,6,50,23,null,null,null],
    [36,4,46,18,35,5,49,37,7,51,24,38,6,48],
    [37,5,47,19,null,null,null,null,null,null,25,39,7,49],
    [null,null,null,20,36,6,50,38,8,52,26,null,null,null],
    [38,6,48,21,37,7,51,39,9,53,27,40,8,50],
    [39,7,49,22,null,null,null,null,null,null,28,41,9,51],
    [null,null,null,23,38,8,52,40,10,54,29,null,null,null],
    [40,8,50,24,39,9,53,41,11,55,30,42,10,52],
    [41,9,51,25,null,null,null,null,null,null,31,43,11,53],
    [null,null,null,26,40,10,54,42,12,null,null,null,null,null],
    [42,10,52,27,41,11,55,43,13,null,null,null,12,54],
    [43,11,53,28,null,null,null,null,null,null,null,null,13,55],
    [0,null,null,null,1,45,15,2,46,17,null,null,null,14],
    [1,null,null,null,null,null,16,3,47,18,34,2,44,15],
    [2,44,15,33,3,47,18,4,48,20,null,null,null,17],
    [3,45,16,null,null,null,19,5,49,21,36,4,46,18],
    [4,46,18,35,5,49,21,6,50,23,null,null,null,20],
    [5,47,19,null,null,null,22,7,51,24,38,6,48,21],
    [6,48,21,37,7,51,24,8,52,26,null,null,null,23],
    [7,49,22,null,null,null,25,9,53,27,40,8,50,24],
    [8,50,24,39,9,53,27,10,54,29,null,null,null,26],
    [9,51,25,null,null,null,28,11,55,30,42,10,52,27],
    [10,52,27,41,11,55,30,12,null,null,null,null,null,29],
    [11,53,28,null,null,null,31,13,null,null,null,12,54,30],
    [14,null,null,null,null,null,0,15,33,3,47,18,34,2],
    [15,32,0,null,null,null,1,16,null,null,null,19,35,3],
    [17,null,null,null,14,32,2,18,35,5,49,21,36,4],
    [18,34,2,44,15,33,3,19,null,null,null,22,37,5],
    [20,null,null,null,17,34,4,21,37,7,51,24,38,6],
    [21,36,4,46,18,35,5,22,null,null,null,25,39,7],
    [23,null,null,null,20,36,6,24,39,9,53,27,40,8],
    [24,38,6,48,21,37,7,25,null,null,null,28,41,9],
    [26,null,null,null,23,38,8,27,41,11,55,30,42,10],
    [27,40,8,50,24,39,9,28,null,null,null,31,43,11],
    [29,null,null,null,26,40,10,30,43,13,null,null,null,12],
    [30,42,10,52,27,41,11,31,null,null,null,null,null,13]
];
    

/** 
 * @public
 * @description 
 * The angle made by each neighbor with respect to their reference quantum 
 */
Namespace.Knowledge.NeighborAngles = 
    [135, 90, 45, 0, 45, 90, 135, 135, 90, 45, 0, 45, 90, 135];



/** 
 * @public
 * @description 
 * The quanta that lie in each of the 12 squares of the letter grid 
 */
Namespace.Knowledge.QuantaBySquare = 
[
    [0, 2, 14, 15, 32, 44],
    [1, 3, 15, 16, 33, 45],
    [17, 18, 2, 34, 46],
    [18, 19, 3, 35, 47],
    [20, 21, 4, 6, 36, 48],
    [21, 22, 5, 7, 37, 49],
    [23, 24, 6, 8, 38, 50],
    [24, 25, 7, 9, 39, 51],
    [26, 27, 10, 40, 52],
    [27, 28, 11, 41, 53],
    [29, 30, 10, 12, 42, 54],
    [30, 31, 11, 13, 43, 55]
];


/** 
 * @public
 * @description 
 * The quanta that are on the left of the letter grid 
 */
Namespace.Knowledge.LeftQuanta = 
    [0, 2, 4, 6, 8, 10, 12, 14, 17, 20, 23, 26, 29, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54];


/** 
 * @public
 * @description 
 * The quanta that are in the middle of the letter grid 
 */    
Namespace.Knowledge.MiddleQuanta = 
    [0, 2, 4, 6, 8, 10, 12, 32, 34, 36, 38, 40, 42, 44, 46, 48, 50, 52, 54, 1, 3, 5, 7, 9, 11, 13, 
        33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55, 15, 18, 21, 24, 27, 30];


/** 
 * @public
 * @description 
 * The quanta that are on the right of the letter grid 
 */
Namespace.Knowledge.RightQuanta = 
    [1, 3, 5, 7, 9, 11, 13, 16, 19, 22, 25, 28, 31, 33, 35, 37, 39, 41, 43, 45, 47, 49, 51, 53, 55];

    
/** 
 * @public
 * @description 
 * Quanta grouped by vertical position in the letter grid 
 */
Namespace.Knowledge.VertQuanta = [
    [12, 13, 29, 42, 54, 30, 43, 55, 31],
    [10, 11, 29, 42, 54, 30, 43, 55, 31, 26, 40, 52, 27, 41, 53, 28],
    [8, 9, 26, 40, 52, 27, 41, 53, 28, 23, 38, 50, 24, 39, 51, 25],
    [6, 7, 23, 38, 50, 24, 39, 51, 25, 20, 36, 48, 21, 37, 49, 22],
    [4, 5, 20, 36, 48, 21, 37, 49, 22, 17, 34, 46, 18, 35, 47, 19],
    [2, 3, 17, 34, 46, 18, 35, 47, 19, 14, 32, 44, 15, 33, 45, 16],
    [0, 1, 14, 32, 44, 15, 33, 45, 16]
];


/** 
 * @public
 * @description 
 * Mid-quanta touching: Two quanta can cross without sharing tips in common, e.g. #32 and #44 
 */
Namespace.Knowledge.MidQuantaTouchMap = {
    32:44, 33:45, 34:46, 35:47, 36:48, 37:49, 38:50,
	39:51, 40:52, 41:53, 42:54, 43:55, 44:32, 45:33,
	46:34, 47:35, 48:36, 49:37, 50:38, 51:39, 52:40,
	53:41, 54:42, 55:43
};


/** 
 * @public
 * @description 
 * Groups of quanta that potentially form a tip 
 */
Namespace.Knowledge.TipGroups = 
[
    [0, 14, 44],
    [14, 32, 2, 46, 17],
    [17, 34, 4, 48, 20],
    [20, 36, 6, 50, 23],
    [23, 38, 8, 52, 26],
    [26, 40, 10, 54, 29],
    [29, 42, 12],
    [0, 1, 15, 32, 45],
    [15, 33, 3, 47, 18, 34, 2, 44],
    [18, 35, 5, 49, 21, 36, 4, 46],
    [21, 37, 7, 51, 24, 38, 6, 48],
    [24, 39, 9, 53, 27, 40, 8, 50],
    [27, 41, 11, 55, 30, 42, 10, 52],
    [12, 13, 54, 30, 43],
    [1, 33, 16],
    [16, 45, 3, 35, 19],
    [19, 47, 5, 37, 22],
    [22, 49, 7, 39, 25],
    [25, 51, 9, 41, 28],
    [28, 53, 11, 43, 31],
    [31, 55, 13]
];


/** 
 * @public
 * @description 
 * Mapping of the TipGroups to the 12 squares of the letter grid 
 */
Namespace.Knowledge.TipGroupsBySquare = 
[
    [0, 1, 7, 8],
    [7, 8, 14, 15],
    [1, 2, 8, 9],
    [8, 9, 15, 16],
    [2, 3, 9, 10],
    [9, 10, 16, 17],
    [3, 4, 10, 11],
    [10, 11, 17, 18],
    [4, 5, 11, 12],
    [11, 12, 18, 19],
    [5, 6, 12, 13],
    [12, 13, 19, 20]
];


/**
 * Blurred prototypes created over the entire PSYCH data set (NORMALS+FONTS)
 * This is made by adding all vectors in a letter category and dividing by
 * the total number of tokens.  The result is a 56-d vector with a value
 * for each quantum representing its strength.
 *
 * @public
 * @description 
 * Blurred prototypes
 */
Namespace.Knowledge.BlurredPrototypes = {
    a : [0, 0, 0, 0, 0.579, 0.421, 0.579, 0.474, 0.684, 0.368, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.053, 0, 0.474, 0.316, 0.053, 0.789, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.211, 0.263, 0.421, 0.632, 0, 0, 0, 0, 0, 0, 0, 0, 0.105, 0.421, 0.368, 0.158, 0, 0, 0, 0],
    b : [0, 0, 0, 0, 0.556, 0.333, 0.056, 0.056, 0.444, 0.556, 0, 0, 0, 0, 0.833, 0.056, 0, 1.000, 0, 0, 0.944, 0, 0.444, 0.722, 0.056, 0.500, 0, 0, 0, 0, 0, 0, 0.056, 0, 0, 0, 0.222, 0.111, 0.167, 0.389, 0, 0, 0, 0, 0.056, 0, 0, 0, 0.056, 0.500, 0.556, 0.056, 0, 0, 0, 0],
    c : [0, 0, 0, 0, 0.312, 0.562, 0.062, 0, 0.312, 0.562, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.312, 0, 0, 0.250, 0, 0.188, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.562, 0.062, 0.062, 0.312, 0, 0, 0, 0, 0, 0, 0, 0, 0.125, 0.188, 0.562, 0.188, 0, 0, 0, 0],
    d : [0, 0, 0, 0, 0.368, 0.579, 0.053, 0.053, 0.474, 0.474, 0, 0, 0, 0, 0, 0.053, 0.842, 0, 0, 1.000, 0.368, 0, 0.947, 0.421, 0.053, 0.737, 0, 0, 0, 0, 0, 0, 0, 0.053, 0, 0, 0.526, 0.053, 0.053, 0.474, 0, 0, 0, 0, 0, 0.053, 0, 0, 0.105, 0.263, 0.421, 0.158, 0, 0, 0, 0],
    e : [0, 0, 0, 0, 0.455, 0.682, 0.500, 0.500, 0.455, 0.591, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.409, 0, 0.273, 0.455, 0, 0.045, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.500, 0.545, 0.227, 0.273, 0, 0, 0, 0, 0, 0, 0, 0, 0.182, 0.318, 0.409, 0.091, 0, 0, 0, 0],
    f : [0.059, 0.235, 0.118, 0.118, 0.706, 0.647, 0, 0, 0, 0, 0, 0, 0, 0, 0.118, 0.412, 0.176, 0.118, 0.588, 0, 0.059, 0.824, 0, 0.059, 0.824, 0, 0, 0, 0, 0, 0, 0, 0.118, 0.294, 0, 0.059, 0.235, 0, 0, 0, 0, 0, 0, 0, 0.059, 0.353, 0.235, 0.118, 0.059, 0.176, 0.118, 0.059, 0, 0, 0, 0],
    g : [0, 0, 0, 0, 0.381, 0.476, 0.048, 0.048, 0.429, 0.429, 0, 0, 0.286, 0.286, 0, 0, 0, 0, 0, 0, 0.333, 0.048, 0.762, 0.429, 0, 0.952, 0, 0, 0.952, 0.143, 0.048, 0.333, 0, 0, 0, 0, 0.571, 0.095, 0.095, 0.381, 0.048, 0.048, 0, 0.524, 0, 0, 0, 0, 0.048, 0.524, 0.429, 0.095, 0, 0.095, 0.429, 0.048],
    h : [0, 0, 0, 0, 0.400, 0.267, 0, 0, 0.067, 0.067, 0, 0, 0, 0, 0.733, 0.067, 0, 1.000, 0, 0, 0.933, 0.200, 0.400, 0.667, 0.200, 0.800, 0, 0, 0, 0, 0, 0, 0.133, 0, 0, 0, 0.400, 0.133, 0.200, 0.067, 0, 0, 0, 0, 0.067, 0, 0, 0, 0.067, 0.400, 0.267, 0.133, 0, 0, 0, 0],
    i : [0.048, 0, 0.190, 0, 0.429, 0, 0.048, 0, 0, 0.048, 0, 0, 0, 0, 0, 0.095, 0, 0.095, 0.048, 0, 0.190, 0.667, 0, 0.238, 0.571, 0.048, 0, 0, 0, 0, 0, 0, 0.381, 0, 0.143, 0, 0.190, 0, 0.190, 0, 0, 0, 0, 0, 0.286, 0, 0.048, 0.048, 0.095, 0, 0.048, 0.048, 0, 0, 0, 0],
    j : [0.069, 0.034, 0.138, 0.069, 0.345, 0.172, 0.034, 0, 0, 0, 0, 0, 0.103, 0.069, 0.034, 0.103, 0, 0.034, 0.034, 0, 0, 0.690, 0.138, 0.034, 0.724, 0.172, 0, 0.724, 0.207, 0.069, 0.379, 0.034, 0.310, 0.138, 0.172, 0, 0.172, 0, 0, 0, 0.034, 0, 0.345, 0.138, 0.207, 0.034, 0.034, 0.034, 0.069, 0.034, 0.034, 0.034, 0.034, 0.034, 0.379, 0],
    k : [0, 0, 0, 0, 0.211, 0.263, 0.421, 0.263, 0.053, 0.158, 0, 0, 0, 0, 0.789, 0.053, 0, 1.000, 0, 0, 0.842, 0.105, 0.105, 0.789, 0.105, 0.211, 0, 0, 0, 0, 0, 0, 0.105, 0, 0, 0, 0.211, 0.579, 0.211, 0.053, 0, 0, 0, 0, 0.053, 0, 0, 0, 0.316, 0.158, 0.211, 0.632, 0, 0, 0, 0],
    l : [0.188, 0.062, 0, 0, 0, 0, 0, 0, 0.062, 0.125, 0, 0, 0, 0, 0.188, 0.688, 0, 0.312, 0.688, 0, 0.250, 0.688, 0, 0.062, 0.688, 0.062, 0, 0, 0, 0, 0, 0, 0.188, 0, 0, 0, 0, 0, 0.125, 0.188, 0, 0, 0, 0, 0.062, 0, 0, 0, 0.062, 0, 0.188, 0.125, 0, 0, 0, 0],
    m : [0, 0, 0, 0, 0.280, 0.240, 0.040, 0.040, 0.040, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.480, 0.640, 0.600, 0.840, 0.680, 0.880, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.480, 0.400, 0.040, 0.080, 0, 0, 0, 0, 0, 0, 0, 0, 0.360, 0.360, 0.120, 0.040, 0, 0, 0, 0],
    n : [0, 0, 0, 0, 0.353, 0.353, 0, 0, 0.059, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.471, 0.176, 0.412, 0.706, 0.235, 0.824, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.471, 0.118, 0.118, 0.059, 0, 0, 0, 0, 0, 0, 0, 0, 0.176, 0.412, 0.176, 0.118, 0, 0, 0, 0],
    o : [0, 0, 0, 0, 0.500, 0.450, 0.050, 0, 0.450, 0.500, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.400, 0.100, 0.450, 0.400, 0, 0.550, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.300, 0.150, 0.250, 0.300, 0, 0, 0, 0, 0, 0, 0, 0, 0.200, 0.400, 0.350, 0.150, 0, 0, 0, 0],
    p : [0, 0, 0, 0, 0.433, 0.367, 0.067, 0.100, 0.600, 0.367, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.600, 0.100, 0.533, 0.833, 0.033, 0.400, 0.967, 0, 0, 0.833, 0.033, 0, 0, 0, 0, 0, 0.367, 0.167, 0.233, 0.500, 0, 0, 0.067, 0, 0, 0, 0, 0, 0.133, 0.400, 0.267, 0.100, 0.033, 0, 0.067, 0],
    q : [0, 0, 0, 0, 0.300, 0.500, 0.133, 0.033, 0.567, 0.500, 0, 0, 0.033, 0.200, 0, 0, 0, 0, 0, 0, 0.333, 0.133, 0.767, 0.433, 0.067, 0.867, 0, 0.033, 0.867, 0, 0.100, 0.600, 0, 0, 0, 0, 0.433, 0.200, 0.267, 0.400, 0, 0.100, 0.033, 0.300, 0, 0, 0, 0, 0.033, 0.367, 0.267, 0.100, 0, 0, 0, 0.033],
    r : [0, 0, 0, 0, 0.200, 0.600, 0.050, 0.100, 0.050, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.500, 0.050, 0.350, 0.700, 0.150, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.650, 0.250, 0.100, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.100, 0.350, 0.100, 0.050, 0, 0, 0, 0],
    s : [0, 0, 0, 0, 0.500, 0.455, 0.545, 0.455, 0.682, 0.636, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.227, 0.091, 0.091, 0.091, 0, 0.182, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.273, 0.091, 0.091, 0.318, 0, 0, 0, 0, 0, 0, 0, 0, 0.273, 0.364, 0.227, 0.455, 0, 0, 0, 0],
    t : [0, 0, 0, 0, 0.611, 0.833, 0, 0.056, 0.111, 0.222, 0, 0, 0, 0, 0, 0.056, 0, 0.056, 0.889, 0, 0.111, 0.833, 0, 0, 0.611, 0.222, 0, 0, 0, 0, 0, 0, 0, 0, 0.111, 0, 0.278, 0, 0.111, 0.333, 0, 0, 0, 0, 0, 0, 0.056, 0, 0.056, 0, 0.111, 0.222, 0, 0, 0, 0],
    u : [0, 0, 0, 0, 0, 0.048, 0, 0.048, 0.619, 0.286, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.619, 0.286, 0.667, 0.476, 0.143, 0.762, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.143, 0.048, 0.286, 0.476, 0, 0, 0, 0, 0, 0, 0, 0, 0.095, 0.190, 0.286, 0.095, 0, 0, 0, 0],
    v : [0, 0, 0, 0, 0, 0.048, 0.095, 0.095, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.476, 0.190, 0.429, 0.190, 0.333, 0.143, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.238, 0.286, 0.190, 0.476, 0, 0, 0, 0, 0, 0, 0, 0, 0.286, 0.190, 0.524, 0.143, 0, 0, 0, 0],
    w : [0, 0, 0, 0, 0, 0.037, 0, 0, 0.370, 0.259, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.852, 0.556, 0.852, 0.593, 0.741, 0.593, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.111, 0.037, 0.370, 0.333, 0, 0, 0, 0, 0, 0, 0, 0, 0.037, 0.111, 0.407, 0.333, 0, 0, 0, 0],
    x : [0, 0, 0, 0, 0.263, 0.158, 0.053, 0.053, 0.211, 0.211, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.263, 0.474, 0.263, 0.053, 0.211, 0.263, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.211, 0.842, 0.895, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.526, 0.211, 0.053, 0.789, 0, 0, 0, 0],
    y : [0, 0, 0, 0, 0.037, 0.037, 0.074, 0, 0.407, 0.333, 0, 0, 0.444, 0.111, 0, 0, 0, 0, 0, 0, 0.704, 0.148, 0.815, 0.370, 0.074, 0.926, 0.074, 0, 0.889, 0.296, 0.037, 0.148, 0, 0, 0, 0, 0.111, 0.037, 0.111, 0.556, 0.037, 0.111, 0.185, 0.667, 0, 0, 0, 0, 0.148, 0.111, 0.370, 0.148, 0, 0.074, 0.259, 0.037],
    z : [0, 0, 0, 0, 0.438, 0.688, 0, 0.125, 0.938, 0.750, 0, 0.062, 0, 0, 0, 0, 0, 0, 0, 0, 0.375, 0.062, 0, 0, 0, 0.188, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0.312, 0.750, 0.875, 0.250, 0, 0, 0, 0, 0, 0, 0, 0, 0.125, 0.062, 0.062, 0.125, 0.062, 0, 0, 0]
};


/** 
 * This table contains, for each letter of the alphabet, 
 * the average number of quanta that lie in each square of the letter grid.
 * (The average is taken over the fonts of the PSYCH data set) 
 * 
 * @public
 * @description 
 * The average number of quanta that lie in each square of the letter grid.
 */
 Namespace.Knowledge.SquarePrototypes = {
    a : [0, 0, 0, 0, 1.53, 2.05, 2.42, 2.47, 0, 0, 0, 0],
    b : [1, 0.06, 1, 0, 1.83, 1.44, 2, 1.61, 0, 0, 0, 0],
    c : [0, 0, 0, 0, 1.38, 0.81, 1.25, 1.25, 0, 0, 0, 0],
    d : [0.05, 1, 0, 1, 1.42, 1.9, 1.48, 1.95, 0, 0, 0, 0],
    e : [0, 0, 0, 0, 2.05, 2.32, 2.05, 1.5, 0, 0, 0, 0],
    f : [0.88, 1.59, 1.06, 0.88, 1.88, 1.65, 1, 0.88, 0, 0, 0, 0],
    g : [0, 0, 0, 0, 1.43, 1.95, 1.43, 1.91, 0.05, 1.1, 0.91, 1.24],
    h : [1, 0.07, 1, 0, 2, 1.4, 1.4, 1.27, 0, 0, 0, 0],
    i : [1, 0.1, 0.52, 0.1, 1.62, 0.67, 1.1, 0.72, 0, 0, 0, 0],
    j : [0.86, 0.38, 0.41, 0.14, 1.31, 1.03, 0.83, 0.93, 0.79, 0.97, 1.28, 0.62],
    k : [1, 0.05, 1, 0, 2.11, 1.47, 1.79, 1.42, 0, 0, 0, 0],
    l : [1.31, 0.75, 1, 0.69, 1, 0.69, 1.13, 1.19, 0, 0, 0, 0],
    m : [0, 0, 0, 0, 2.28, 2.28, 1.76, 1.72, 0, 0, 0, 0],
    n : [0, 0, 0, 0, 1.65, 1.47, 1.29, 1.24, 0, 0, 0, 0],
    o : [0, 0, 0, 0, 1.55, 1.55, 1.5, 1.5, 0, 0, 0, 0],
    p : [0, 0, 0, 0, 1.7, 1.67, 2.03, 1.5, 1, 0, 1, 0.03],
    q : [0, 0, 0, 0, 1.37, 2, 1.73, 1.97, 0.03, 1, 0.17, 1.23],
    r : [0, 0, 0, 0, 1.55, 1.7, 1.15, 0.3, 0, 0, 0, 0],
    s : [0, 0, 0, 0, 1.91, 1.55, 1.64, 2.05, 0, 0, 0, 0],
    t : [0.06, 0.06, 1.11, 0.89, 1.89, 1.72, 0.94, 1.67, 0, 0, 0, 0],
    u : [0, 0, 0, 0, 1.14, 1.29, 1.81, 1.81, 0, 0, 0, 0],
    v : [0, 0, 0, 0, 1.29, 1.24, 1.33, 1.19, 0, 0, 0, 0],
    w : [0, 0, 0, 0, 1.56, 1.59, 2.48, 2.26, 0, 0, 0, 0],
    x : [0, 0, 0, 0, 1.79, 2, 1.48, 1.53, 0, 0, 0, 0],
    y : [0, 0, 0, 0, 1.22, 1.15, 1.41, 2.04, 0.11, 1.07, 1.22, 1],
    z : [0, 0, 0, 0, 1.31, 1.69, 1.88, 1.44, 0.06, 0.06, 0, 0.06]
};


/**
 * This table contains, for each letter of the alphabet, and each of the
 * twelve grid cells, the average number of tips that lie in that cell.
 * The average is taken over the fonts of the PSYCH data set.
 * 
 * @public
 * @description 
 * The average number of tips that lie in each square of the letter grid.
 */
Namespace.Knowledge.TipPrototypes = {
    a : [0, 0, 0.684, 0.053, 1.053, 0.211, 0.421, 0.632, 0.526, 0, 0, 0],
    b : [1, 0.111, 0.278, 0.167, 0.056, 0.056, 0.389, 0, 0.389, 0.111, 0, 0],
    c : [0, 0, 0.125, 0.75, 0.25, 1.438, 0.125, 1.25, 0.562, 0, 0, 0],
    d : [0.105, 1, 0.158, 0.947, 0.053, 0.053, 0, 0.316, 0.316, 0.105, 0, 0],
    e : [0, 0, 0, 0.045, 0.091, 0.455, 0.091, 1.045, 0.636, 0, 0, 0],
    f : [0, 0.941, 0.588, 1.118, 0.824, 0.941, 1.118, 1.059, 0.118, 0.824, 0, 0],
    g : [0, 0, 0, 0.381, 0, 0.381, 0.095, 0.095, 0.524, 0.238, 0.952, 0.19],
    h : [1, 0.2, 0.267, 0.133, 0, 0.067, 1, 1.133, 1.4, 0.533, 0, 0],
    i : [1.0, 0.952, 1.0, 1.4, 1.143, 0.524, 1.048, 0.571, 0.476, 1.429, 0, 0],
    j : [1.483, 1.103, 1.897, 1.241, 1.103, 0.552, 0.207, 0.069, 0.414, 0.966, 0.931, 0.140],
    k : [1, 0.158, 0.263, 0.895, 0.053, 1.053, 0.842, 1.263, 1.632, 0.263, 0, 0],
    l : [0.938, 0.5, 0.375, 0.25, 0.062, 0.312, 0.562, 0.875, 0.312, 0.812, 0, 0],
    m : [0, 0, 0.28, 0.04, 0.48, 0.24, 1.88, 1.88, 1.84, 0.76, 0, 0],
    n : [0, 0, 0.353, 0.059, 0.471, 0.176, 1.176, 1.118, 1.706, 0.176, 0, 0],
    o : [0, 0, 0.1, 0.05, 0.15, 0.05, 0.05, 0, 0, 0, 0, 0],
    p : [0, 0, 0.267, 0, 0.333, 0, 0.1, 0.033, 0.067, 0.1, 1, 0.1],
    q : [0, 0, 0, 0.233, 0.033, 0.267, 0.067, 0.067, 0.167, 0.067, 0.067, 0.272],
    r : [0, 0, 0.45, 0.45, 0.7, 1.05, 1.2, 0.75, 0.9, 0.1, 0, 0],
    s : [0, 0, 0.136, 0.682, 0.318, 1, 1, 0.364, 0.773, 0.045, 0, 0],
    t : [1, 0.889, 1.667, 1.722, 0.889, 1.389, 0.444, 1, 0.222, 1.167, 0, 0],
    u : [0, 0, 1.190, 1.238, 1.238, 1.286, 0.143, 0.619, 0.476, 0.095, 0, 0],
    v : [0, 0, 1.238, 1.238, 1.238, 1.238, 0, 0, 0, 0, 0, 0],
    w : [0, 0, 1.556, 1.593, 1.889, 1.926, 0.370, 0.370, 0, 0.037, 0, 0],
    x : [0, 0, 0.737, 0.842, 1.263, 1.211, 1.526, 1.368, 1.474, 0.263, 0, 0],
    y : [0, 0, 0.926, 1, 1.074, 1.074, 0.259, 0.111, 0.519, 0.259, 0.889, 0.259],
    z : [0, 0, 0.5, 0.25, 1, 0.75, 0.5, 1.062, 0.625, 0, 0, 0.062]
};


/** 
 * @public
 * @description 
 * A table indicating, for each letter, whether it has a closed loop.
 *
 */
Namespace.Knowledge.ClosurePrototypes = {
    a : 1, b : 1, c : 0, d : 1, e : 1, f : 0, g : 1, h : 0, i : 0, j : 0, k : 0, l : 0, m : 0, 
    n : 0, o : 1, p : 1, q : 1, r : 0, s : 0, t : 0, u : 0, v : 0, w : 0, x : 0, y : 0, z : 0
};


/** 
 * @public
 * @description 
 * A table indicating, for each letter, whether it has an ascender.
 *
 */
Namespace.Knowledge.AscendPrototypes = {
    a : 0, b : 1, c : 0, d : 1, e : 0, f : 1, g : 0, h : 1, i : 1, j : 1, k : 1, l : 1, m : 0,
    n : 0, o : 0, p : 0, q : 0, r : 0, s : 0, t : 1, u : 0, v : 0, w : 0, x : 0, y : 0, z : 0
};


/** 
 * @public
 * @description 
 * A table indicating, for each letter, whether it has a descender.
 *
 */
Namespace.Knowledge.DescendPrototypes = {
    a : 0, b : 0, c : 0, d : 0, e : 0, f : 0, g : 1, h : 0, i : 0, j : 1, k : 0, l : 0, m : 0,
    n : 0, o : 0, p : 1, q : 1, r : 0, s : 0, t : 0, u : 0, v : 0, w : 0, x : 0, y : 1, z : 0
};


/** 
 * @public
 * @description 
 * A mapping of tip types to their flipped versions.
 *
 */
Namespace.Knowledge.TipFlipMap = {
    "n"  : "s",
    "ne" : "sw",
    "e"  : "w",
    "se" : "nw",
    "s"  : "n",
    "sw" : "ne",
    "w"  : "e",
    "nw" : "se",
    "full_right" : "full_left",
    "full_left" : "full_right",
    "strong_right" : "strong_left",
    "square_right" : "square_left",
    "slight_right" : "slight_left",
    "strong_left" : "strong_right",
    "square_left" : "square_right",
    "slight_left" : "slight_right",
    "curve1" : "curve2",
    "curve2" : "curve1",
    "t1" : "t2",
    "t2" : "t1",
    "t1m" : "mt2",
    "mt2" : "t1m"
};
    

/** 
 * @public
 * @description 
 * Curve types.
 */
Namespace.Knowledge.CurvesList = [    
    "full_left", "strong_left", "square_left", "slight_left",
	"straight",
	"slight_right", "square_right", "strong_right", "full_right",
     "closure", 
];


//
//  A picture of the letter grid:
//
//     1----[0]----8----[1]----15
//     |\         /|\         /|
//     | \       / | \       / |
//     |  \     /  |  \     /  |
//     |   \   /   |   \   /   |   
//     |    \ /    |    \ /    | 
//   [14]    0    [15]   1    [16]   
//     |    / \    |    / \    |
//     |   /   \   |   /   \   |
//     | [32] [44] | [33] [45] |
//     | /       \ | /       \ |
//     |/         \|/         \|
//     2----[2]----9----[3]----16
//     |\         /|\         /|
//     | \       / | \       / |
//     |  \     /  |  \     /  |
//     |   \   /   |   \   /   |   
//     |    \ /    |    \ /    | 
//   [17]    2    [18]   3    [19]   
//     |    / \    |    / \    |
//     |   /   \   |   /   \   |
//     | [34] [46] | [35] [47] |
//     | /       \ | /       \ |
//     |/         \|/         \|
//     3----[4]---10----[5]----17
//     |\         /|\         /|
//     | \       / | \       / |
//     |  \     /  |  \     /  |
//     |   \   /   |   \   /   |   
//     |    \ /    |    \ /    | 
//   [20]    4    [21]   5    [22]   
//     |    / \    |    / \    |
//     |   /   \   |   /   \   |
//     | [36] [48] | [37] [49] |
//     | /       \ | /       \ |
//     |/         \|/         \|
//     4----[6]---11----[7]----18
//     |\         /|\         /|
//     | \       / | \       / |
//     |  \     /  |  \     /  |
//     |   \   /   |   \   /   |   
//     |    \ /    |    \ /    | 
//   [23]    6    [24]   7    [25]   
//     |    / \    |    / \    |
//     |   /   \   |   /   \   |
//     | [38] [50] | [39] [51] |
//     | /       \ | /       \ |
//     |/         \|/         \|
//     5----[8]---12----[9]---19
//     |\         /|\         /|
//     | \       / | \       / |
//     |  \     /  |  \     /  |
//     |   \   /   |   \   /   |   
//     |    \ /    |    \ /    | 
//   [26]    8    [27]   9    [28]   
//     |    / \    |    / \    |
//     |   /   \   |   /   \   |
//     | [40] [52] | [41] [53] |
//     | /       \ | /       \ |
//     |/         \|/         \|
//     6----[10]--13----[11]---20
//     |\         /|\         /|
//     | \       / | \       / |
//     |  \     /  |  \     /  |
//     |   \   /   |   \   /   |   
//     |    \ /    |    \ /    | 
//   [29]    10   [30]   11   [31]   
//     |    / \    |    / \    |
//     |   /   \   |   /   \   |
//     | [42] [54] | [43] [55] |
//     | /       \ | /       \ |
//     |/         \|/         \|
//     7----[12]--14----[13]---21

})( window.LetterSpirit = window.LetterSpirit || {} );



